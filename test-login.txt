<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Test Login - Multas IT</title>
  <link rel="stylesheet" href="css/style.css" />
  <link rel="stylesheet" href="css/bootstrap/css/bootstrap.min.css" />
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css" />
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
</head>
<body class="bg-light">
  <div class="container">
    <div class="row justify-content-center mt-5">
      <div class="col-md-6">
        <div class="card shadow-lg border-0 rounded-lg mt-5">
          <div class="card-header bg-primary text-white text-center">
            <h3 class="mb-0">TEST LOGIN SYSTEM</h3>
          </div>
          <div class="card-body">
            <!-- Formulario de Usuario -->
            <div class="mb-4">
              <h5>Login Usuario (Solo Nombre)</h5>
              <form id="formUsuario">
                <div class="mb-3">
                  <label for="nombreUsuario" class="form-label">Nombre</label>
                  <input type="text" class="form-control" id="nombreUsuario" placeholder="Ingrese su nombre" required>
                </div>
                <div class="d-grid gap-2">
                  <button type="submit" class="btn btn-success">INGRESAR COMO USUARIO</button>
                </div>
              </form>
            </div>
            
            <hr>
            
            <!-- Formulario de Administrador -->
            <div class="mb-4">
              <h5>Login Administrador</h5>
              <form id="formAdmin">
                <div class="mb-3">
                  <label for="nombreAdmin" class="form-label">Nombre</label>
                  <input type="text" class="form-control" id="nombreAdmin" placeholder="beymar o romel" required>
                </div>
                <div class="mb-3">
                  <label for="passwordAdmin" class="form-label">Contraseña</label>
                  <input type="password" class="form-control" id="passwordAdmin" placeholder="admin123" required>
                </div>
                <div class="d-grid gap-2">
                  <button type="submit" class="btn btn-danger">INGRESAR COMO ADMIN</button>
                </div>
              </form>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <script>
    // Lista de nombres permitidos
    const nombresEstudiantes = [
      "Fernando", "Marck", "Martha", "Maria", "Tania", "Elias", "Jhordan",
      "Rodrigo", "Romel", "Melanie", "Luis", "Jordan", "Nayeli", "Joseph",
      "Jhon", "Olivar", "Mijail", "Anahi", "Beymar", "Brayan", "Emanuel", "Ronald"
    ];

    // Admins permitidos
    const admins = [
      { nombre: "beymar", password: "admin123" },
      { nombre: "romel", password: "admin123" }
    ];

    document.addEventListener("DOMContentLoaded", function() {
      // Form usuario
      document.getElementById("formUsuario").addEventListener("submit", function(e) {
        e.preventDefault();
        const nombre = document.getElementById("nombreUsuario").value.trim();
        
        if (!nombre) {
          Swal.fire("Error", "Ingrese su nombre", "error");
          return;
        }

        const nombreValido = nombresEstudiantes.some(n => n.toLowerCase() === nombre.toLowerCase());
        
        if (nombreValido) {
          const userInfo = {
            nombre: nombre,
            tipo: "usuario",
            timestamp: new Date().getTime()
          };
          localStorage.setItem("userSession", JSON.stringify(userInfo));
          
          Swal.fire("¡Éxito!", `Bienvenido ${nombre}`, "success").then(() => {
            window.location.href = "index.html";
          });
        } else {
          Swal.fire("Error", "Nombre no encontrado en la lista", "error");
        }
      });

      // Form admin
      document.getElementById("formAdmin").addEventListener("submit", function(e) {
        e.preventDefault();
        const nombre = document.getElementById("nombreAdmin").value.trim().toLowerCase();
        const password = document.getElementById("passwordAdmin").value.trim();
        
        const admin = admins.find(a => a.nombre === nombre && a.password === password);
        
        if (admin) {
          const adminSession = {
            nombre: admin.nombre,
            token: "admin-token-" + Date.now(),
            timestamp: new Date().getTime()
          };
          localStorage.setItem("adminSession", JSON.stringify(adminSession));
          
          Swal.fire("¡Éxito!", `Bienvenido Admin ${admin.nombre}`, "success").then(() => {
            window.location.href = "admin.html";
          });
        } else {
          Swal.fire("Error", "Credenciales incorrectas", "error");
        }
      });
    });
  </script>
</body>
</html>
